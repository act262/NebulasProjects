<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>贪吃蛇</title>
    <link rel="stylesheet" href="css/index.css"/>
    <script src="js/game.js"></script>
    <!--<script src="libs/nebPay.js"></script>-->
</head>

<body>
<div class="wrap">
    <h1>贪吃蛇游戏</h1>

    <p style="font-size:20px;color:red;"> score:<span id="score">0</span></p>

    <div>

        <button id="controlGame" onclick="controlGame();">start</button>
        <button id="reloadGame" onclick="reloadGame()">reload</button>

    </div>

    <div id="snake_map">
        <canvas id="can" width="400" height="400" style="background: Black"></canvas>
    </div>
</div>


<script>


    //    var NebPay = require("nebpay");
    //    var nebPay = new NebPay();
    //    var serialNumber; //交易序列号
    //    var intervalQuery; //定时查询交易结果

    //点击按钮发起交易, 这里为调用智能合约的例子
    // function gameOver(score) {
    //     var to = "n1mAetvn74w6SLTQTFZ7CJtmdqxc5j9W3jN";   //Dapp的合约地址
    //     var value = "0";
    //     var callFunction = "add"; //调用的函数名称
    //     var callArgs = JSON.stringify(score);  //参数格式为参数数组的JSON字符串, 比如'["arg"]','["arg1","arg2]'
    //     var options = {
    //         goods: {        //商品描述
    //             name: "example"
    //         },
    //         callback: undefined //可以指定交易查询服务器
    //     }
    //
    //     //发送交易(发起智能合约调用)
    //     serialNumber = nebPay.call(to, value, callFunction, callArgs, options);
    //
    //     //设置定时查询交易结果
    //     intervalQuery = setInterval(function () {
    //         funcIntervalQuery();
    //     }, 5000);
    // }
    //
    // //查询交易结果. queryPayInfo返回的是一个Promise对象.
    // function funcIntervalQuery() {
    //     nebPay.queryPayInfo(serialNumber)   //search transaction result from server (result upload to server by app)
    //         .then(function (resp) {
    //             console.log("tx result: " + resp)   //resp is a JSON string
    //             var respObject = JSON.parse(resp)
    //             if (respObject.code === 0) {
    //                 //交易成功, 处理相关任务
    //
    //                 clearInterval(intervalQuery)    //清除定时查询
    //             }
    //         })
    //         .catch(function (err) {
    //             console.log(err);
    //         });
    // }


    function controlGame() {
        startGame();
    }

    // function startGame() {
    //
    // }
    //
    // function pauseGame() {
    //
    // }

    function reloadGame() {
        window.location.reload();
    }
</script>
</body>
</html>